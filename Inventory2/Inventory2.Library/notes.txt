events:   state -> event -> state
          (writes each event to the WORM stream)
commands: state -> IEnumerable<event>
          (passes each event to the event handler above)

queries:  state -> object

Each state can actually contain multiple representations (e.g., both normalized and denormalized tables)
